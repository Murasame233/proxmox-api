[package]
name = "proxmox-api"
description = "Rust bindings for the Proxmox VE HTTP API"
categories = [ "virtualization", "api-bindings" ]
keywords = [ "proxmox", "proxmoxve" ]
version = "0.1.1"
edition = "2021"
authors = [ "Johannes Cornelis Draaijer <jcdra1@gmail.com>" ]
license = "MIT OR Apache-2.0"
repository = "https://github.com/datdenkikniet/proxmox-api"
documentation = "https://docs.rs/proxmox-api/"

[package.metadata.proxmox]
debian-distro = "bookworm"
pve-version = "8.0.1"

[features]
default = [ "access", "cluster", "nodes", "pools", "storage", "version" ]
access = []
cluster = []
nodes = []
pools = []
storage = []
version = []
reqwest-client = [ "dep:reqwest", "dep:log", "dep:parking_lot", "dep:serde_urlencoded" ]
cli = [ "dep:clap", "dep:pretty_env_logger", "reqwest-client" ]

[[bin]]
name = "proxmox-api"
path = "./src/cli/main.rs"
required-features = [ "cli" ]

[dependencies]
serde = { version = "1.0.197", features = ["derive"] }

# TODO: add a generic catch-all type to the client trait. This way we can
# make serde_json optional, too!
serde_json = "1.0.114"

# CLI deps
serde_urlencoded = { optional = true, version = "0.7.1" }
log = { optional = true, version = "0.4.21" }
parking_lot = { optional = true, version = "0.12.1" }
reqwest = { optional = true, version = "0.12.1", features = ["blocking", "json"] }
clap = { optional = true, version = "4.5.3", features = ["derive", "env"] }
pretty_env_logger = { optional = true, version = "0.5.0" }
